<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>For My Fatouma üíñ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
            min-height: 100vh;
            display: flex; flex-direction: column; align-items: center;
            padding: 20px; color: #5a3d2b;
        }
        .container { max-width: 400px; width: 100%; text-align: center; margin: 0 auto; }
        .heart-header { font-size: 3rem; margin-bottom: 20px; animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

        .message-card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px; padding: 30px; margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); backdrop-filter: blur(10px);
            text-align: center;
        }
        h1 { color: #e75480; margin-bottom: 15px; font-size: 1.8rem; }
        p { line-height: 1.6; margin-bottom: 15px; font-size: 1.1rem; }
        .apology-text { font-style: italic; color:#666; margin: 20px 0; }

        .cta-button {
            background: linear-gradient(135deg,#e75480 0%,#ff6b6b 100%);
            color:white; border:none; padding:15px 40px; border-radius:30px;
            font-size:1.2rem; cursor:pointer; margin:20px 0; transition:all .3s; box-shadow:0 5px 15px rgba(231,84,128,.3);
        }
        .cta-button:hover { transform:translateY(-2px); box-shadow:0 8px 20px rgba(231,84,128,.4); }

        .second-page { display: none; }      /* hidden initially */
        .second-page.show { display: block; }/* show as block so layout stays consistent */

        .sticker { font-size: 8rem; margin: 20px 0; animation: bounce 2s ease-in-out infinite; }
        @keyframes bounce { 0%,100%{transform:scale(1)} 50%{transform:scale(1.1)} }

        .question { font-size: 1.5rem; color:#e75480; margin: 12px 0; font-weight:bold; }

        .button-container { display:flex; flex-direction:column; gap:12px; margin-top: 12px; align-items:center; }

        .yes-button {
            background: linear-gradient(135deg,#4CAF50 0%,#45a049 100%);
            color:white; border:none; padding:14px 36px; border-radius:30px;
            font-size:1.2rem; cursor:pointer; transition:all .3s; box-shadow:0 5px 15px rgba(76,175,80,.3);
            width: 200px;
        }
        .no-button {
            background: linear-gradient(135deg,#ff6b6b 0%,#e75480 100%);
            color:white; border:none; padding:14px 36px; border-radius:30px;
            font-size:1.15rem; cursor:pointer; transition:all .3s; box-shadow:0 5px 15px rgba(255,107,107,.3);
            width: 200px;
        }
        .yes-button:hover, .no-button:hover { transform:translateY(-2px); }

        .footer { margin-top: 18px; font-style: italic; color:#666; font-size:0.95rem; text-align: left; width: 100%; padding-left: 10px; }

        .music-player {
            position: fixed; bottom: 20px; right: 20px;
            background: rgba(255,255,255,0.9); padding:10px 15px; border-radius:25px;
            box-shadow:0 4px 15px rgba(0,0,0,0.1); display:flex; align-items:center; gap:10px; z-index:1000; backdrop-filter: blur(10px);
        }
        .music-control {
            background:#e75480; color:white; border:none; width:40px; height:40px; border-radius:50%;
            cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:1.1rem; transition:all .2s;
        }
        .music-control:hover { transform:scale(1.05); background:#ff6b6b; }
        .song-info { font-size:0.8rem; color:#666; text-align:left; }
        .song-title { font-weight:bold; color:#e75480; }

        .volume-control { width:80px; height:4px; background:#ddd; border-radius:2px; outline:none; -webkit-appearance:none; }
        .volume-control::-webkit-slider-thumb { -webkit-appearance:none; width:16px; height:16px; border-radius:50%; background:#e75480; cursor:pointer; }

        .horizontal-header { display:flex; align-items:center; justify-content:center; gap:15px; margin: 10px 0; }
        .horizontal-header h2 { color:#e75480; font-size:1.6rem; margin:0; }
        .heart-icon { font-size:1.6rem; animation:heartbeat 1.5s ease-in-out infinite; }
        @keyframes heartbeat { 0%,100%{transform:scale(1)} 50%{transform:scale(1.1)} }

        @media (max-width:480px) {
            .message-card { padding:20px; margin:10px 0; }
            h1 { font-size:1.4rem; }
            .sticker { font-size:6rem; }
            .music-player { bottom:10px; right:10px; left:10px; justify-content:center; }
            .footer { padding-left:8px; }
            .yes-button, .no-button { width: 90%; max-width: 260px; }
        }
    </style>
</head>
<body>
    <!-- MUSIC PLAYER -->
    <div class="music-player" id="musicPlayer">
        <button class="music-control" id="playPauseBtn" aria-label="play pause">‚ñ∂Ô∏è</button>
        <div class="song-info">
            <div class="song-title">√âlissa - Betrouh Betghib</div>
            <div>Tap anywhere or press play üíñ</div>
        </div>
        <input type="range" class="volume-control" id="volumeControl" min="0" max="1" step="0.1" value="0.3" aria-label="volume"/>
    </div>

    <!-- FIRST PAGE -->
    <div class="container first-page" id="firstPage">
        <div class="heart-header">üíñ</div>

        <div class="message-card">
            <h1>My Dearest Fatouma</h1>

            <p>Every day without you feels incomplete. I've had so much time to reflect, and I realize how precious what we had truly was.</p>

            <p class="apology-text">I'm deeply sorry for the pain I caused. You are the most amazing person I've ever known, and I miss you more than words can express.</p>

            <p>Our memories together are treasures I hold close to my heart. The laughter, the dreams, the way your eyes light up when you smile...</p>

            <p>I believe in us, and I believe in the beautiful connection we shared. You are worth fighting for, and I'm willing to do whatever it takes to earn back your trust.</p>

            <p>Will you let me show you how much I've grown and how serious I am about us?</p>
        </div>

        <button class="cta-button" onclick="showSecondPage()">See What's in My Heart üíå</button>

        <div class="footer">Made with love, just for you</div>
    </div>

    <!-- SECOND PAGE -->
    <div class="container second-page" id="secondPage">
        <div class="sticker">ü•∞</div>

        <div class="message-card">
            <div class="horizontal-header">
                <div class="heart-icon">üíñ</div>
                <h2>For My Fatouma</h2>
                <div class="heart-icon">üíñ</div>
            </div>

            <p class="question">Will you go out on a first date with me?</p>
            <p>Let's create new beautiful memories together</p>

            <!-- MOVED BUTTONS: now immediately under the message-card text -->
            <div class="button-container">
                <button class="yes-button" id="yesButton" onclick="sendWhatsAppMessage()">YES! üíù</button>
                <button class="no-button" id="noButton" onclick="makeYesBigger()">No üòî</button>
            </div>
        </div>

        <div class="footer">Our story isn't over yet...</div>
    </div>

    <!-- AUDIO (using the exact filename you uploaded) -->
    <audio id="backgroundMusic" loop preload="auto" playsinline>
        <source src="https://github.com/zouaghif1/for-fatouma/raw/main/elissa-song.mp3.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        const backgroundMusic = document.getElementById('backgroundMusic');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeControl = document.getElementById('volumeControl');

        // initial volume
        backgroundMusic.volume = 0.3;

        // Try to play on first user interaction (this will allow playback on most mobile browsers after a tap)
        function tryPlayMusic() {
            backgroundMusic.play().then(() => {
                playPauseBtn.innerHTML = '‚è∏Ô∏è';
            }).catch((err) => {
                playPauseBtn.innerHTML = '‚ñ∂Ô∏è';
            });
            document.removeEventListener('click', tryPlayMusic);
        }
        document.addEventListener('click', tryPlayMusic, { once: true });

        // Play/pause button toggles
        playPauseBtn.addEventListener('click', function (e) {
            e.stopPropagation();
            if (backgroundMusic.paused) {
                backgroundMusic.play().then(() => {
                    playPauseBtn.innerHTML = '‚è∏Ô∏è';
                }).catch(() => {
                    playPauseBtn.innerHTML = '‚ñ∂Ô∏è';
                });
            } else {
                backgroundMusic.pause();
                playPauseBtn.innerHTML = '‚ñ∂Ô∏è';
            }
        });

        volumeControl.addEventListener('input', function () {
            backgroundMusic.volume = this.value;
        });

        function showSecondPage() {
            document.getElementById('firstPage').style.display = 'none';
            const sp = document.getElementById('secondPage');
            sp.classList.add('show');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function makeYesBigger() {
            const yesButton = document.getElementById('yesButton');
            const noButton = document.getElementById('noButton');
            const computed = window.getComputedStyle(yesButton);
            const currentSize = parseFloat(computed.fontSize) || 20;
            yesButton.style.fontSize = (currentSize + 3) + 'px';
            yesButton.style.padding = '18px 46px';

            const messages = [
                "Are you sure? ü•∫",
                "Pretty please? üíï",
                "Think about our memories! üå∏",
                "I really mean it this time! ‚ú®",
                "You're my everything! üí´",
                "I'll never give up on us! üíñ",
                "Give me one more chance? üåπ",
                "My heart is yours forever üíå"
            ];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            noButton.textContent = randomMessage;
        }

        function sendWhatsAppMessage() {
            const yourPhoneNumber = '21696689103';
            const message = "I will give you a second chance üíñ";
            const whatsappUrl = `https://wa.me/${yourPhoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');

            document.querySelector('.sticker').textContent = 'üéâüíùüéä';
            document.querySelector('.question').innerHTML = "You've made me the happiest person!<br>Check your WhatsApp! üíå";

            document.querySelector('.button-container').innerHTML = `
                <div style="color: #4CAF50; font-size: 1.15rem; margin: 18px 0; text-align:center;">
                    üíù Thank you for this chance! ‚ú®
                </div>
            `;
        }

        // floating hearts
        setInterval(function () {
            const heart = document.createElement('div');
            heart.innerHTML = 'üíñ';
            heart.style.position = 'fixed';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.top = '100vh';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            heart.style.opacity = '0.7';
            heart.style.pointerEvents = 'none';
            heart.style.zIndex = '9999';
            heart.style.animation = `floatUp ${Math.random() * 3 + 2}s linear forwards`;
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }, 3000);

        const style = document.createElement('style');
        style.textContent = `
            @keyframes floatUp {
                0% { transform: translateY(0) rotate(0deg); opacity: 0.7; }
                100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
